import{j as a,ad as b,ae as h,af as y}from"./index-BUqIVJH9.js";import{r as f}from"./vendor-react-C12YrPp7.js";import"./vendor-ui-D5V7SM0_.js";import"./vendor-antd-3B35lyCA.js";import"./vendor-utils-DcpWhr7h.js";const p=(e,t=0)=>Array.from({length:e},(i,n)=>n).map(i=>({id:`item-${i+t}-${new Date().getTime()}`,content:`item ${i+t}`})),j=(e,t,i)=>{const n=Array.from(e),[r]=n.splice(t,1);return n.splice(i,0,r),n},I=(e,t,i,n)=>{const r=Array.from(e),o=Array.from(t),[d]=r.splice(i.index,1);o.splice(n.index,0,d);const s={};return s[i.droppableId]=r,s[n.droppableId]=o,s},u=8,C=(e,t)=>({userSelect:"none",padding:u*2,margin:`0 0 ${u}px 0`,background:e?"lightgreen":"grey",...t}),D=e=>({background:e?"lightblue":"lightgrey",padding:u,width:250});function k(){const[e,t]=f.useState([p(10),p(5,10)]),i=n=>{const{source:r,destination:o}=n;if(!o)return;const d=+r.droppableId,s=+o.droppableId;if(d===s){const c=j(e[d],r.index,o.index),l=[...e];l[d]=c,t(l)}else{const c=I(e[d],e[s],r,o),l=[...e];l[d]=c[d],l[s]=c[s],t(l.filter(g=>g.length))}};return a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:()=>{t([...e,[]])},children:"Add new group"}),a.jsx("button",{type:"button",onClick:()=>{t([...e,p(1)])},children:"Add new item"}),a.jsx("div",{style:{display:"flex"},children:a.jsx(b,{onDragEnd:()=>i,children:e.map((n,r)=>a.jsx(h,{droppableId:`${r}`,children:(o,d)=>a.jsxs("div",{ref:o.innerRef,style:D(d.isDraggingOver),...o.droppableProps,children:[n.map((s,c)=>a.jsx(y,{draggableId:s.id,index:c,children:(l,g)=>a.jsx("div",{ref:l.innerRef,...l.draggableProps,...l.dragHandleProps,style:C(g.isDragging,l.draggableProps.style),children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-around"},children:[s.content,a.jsx("button",{type:"button",onClick:()=>{const m=[...e];m[r].splice(c,1),t(m.filter(x=>x.length))},children:"delete"})]})})},s.id)),o.placeholder]})},r))})})]})}export{k as default};
